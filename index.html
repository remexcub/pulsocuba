<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PulsoCuba - Remesas a Cuba desde M√©xico</title>
    <meta name="description" content="Env√≠a dinero a Cuba de forma r√°pida y segura. USD y CUP. El latido que conecta.">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1144040594572380');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1144040594572380&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        html {
            scroll-behavior: smooth;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, #17a2b8 0%, #00bcd4 100%);
            color: white;
            padding: 1rem 1rem 2rem;
            text-align: center;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
        }

        .logo-container img {
            max-width: 300px;
            height: auto;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.95;
            font-weight: 500;
        }

        /* NAVEGACI√ìN */
        nav {
            background: #0097a7;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #ffd54f;
        }

        /* CONTAINER GENERAL */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        section {
            margin-bottom: 3rem;
        }

        /* INTRO */
        #intro h2 {
            text-align: center;
            color: #0097a7;
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        #intro p {
            text-align: center;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s ease;
            display: inline-block;
        }

        .btn-whatsapp {
            background: #25d366;
            color: white;
        }

        .btn-calculator {
            background: #0097a7;
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
        }

        /* CALCULADORA */
        .calculator-wrapper {
            background: linear-gradient(45deg, #17a2b8, #00bcd4);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .calculator {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            max-width: 380px;
            margin: 0 auto;
        }

        .calculator h2 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #37474f;
            font-size: 0.9em;
            font-weight: 500;
        }

        .input-group select,
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .input-group select:focus,
        .input-group input:focus {
            outline: none;
            border-color: #17a2b8;
            box-shadow: 0 0 5px rgba(23, 162, 184, 0.3);
        }

        #result {
            margin-top: 15px;
            text-align: center;
            font-weight: bold;
            color: #1a1a1a;
            font-size: 1.3em;
            background-color: #e0f7fa;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #17a2b8;
        }

        .error {
            color: #d32f2f;
            background-color: #ffebee;
            text-align: center;
            margin-top: 10px;
            font-size: 0.9em;
            padding: 10px;
            border-radius: 6px;
            display: none;
        }

        .discount-info {
            margin-top: 10px;
            padding: 12px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            border-radius: 8px;
            color: #333;
            font-size: 0.95em;
            text-align: center;
            display: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .rate-info {
            text-align: center;
            margin-top: 10px;
            color: #546e7a;
            font-size: 0.85em;
        }

        /* FEATURES */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            color: #0097a7;
            margin-bottom: 1rem;
        }

        /* PROCESO */
        #proceso h2 {
            text-align: center;
            color: #0097a7;
            margin-bottom: 2rem;
            font-size: 2rem;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .step {
            text-align: center;
            padding: 1.5rem;
            background: #f5f5f5;
            border-radius: 10px;
            position: relative;
        }

        .step-number {
            background: linear-gradient(135deg, #17a2b8, #00bcd4);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .step h3 {
            color: #0097a7;
            margin-bottom: 0.5rem;
        }

        /* FAQ */
        #faq h2 {
            text-align: center;
            color: #0097a7;
            margin-bottom: 2rem;
            font-size: 2rem;
        }

        .category-filters {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .category-filter {
            padding: 0.5rem 1.5rem;
            border: 2px solid #17a2b8;
            border-radius: 20px;
            background: white;
            color: #0097a7;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .category-filter:hover,
        .category-filter.active {
            background: #17a2b8;
            color: white;
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }

        .faq-question {
            width: 100%;
            padding: 1rem;
            background: #f9f9f9;
            border: none;
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }

        .faq-question:hover {
            background: #e0f7fa;
        }

        .faq-answer {
            padding: 0 1rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 1rem;
        }

        .faq-icon {
            transition: transform 0.3s;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        /* CONTACTO */
        #contacto {
            background: linear-gradient(135deg, #17a2b8, #00bcd4);
            color: white;
            padding: 3rem 1rem;
            border-radius: 10px;
            text-align: center;
        }

        #contacto h2 {
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 600px;
            margin: 2rem auto;
        }

        .contact-item {
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .contact-item strong {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        /* FOOTER */
        footer {
            background: #263238;
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 3rem;
        }

        footer p {
            margin-bottom: 0.5rem;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            nav ul {
                gap: 1rem;
            }

            .features,
            .steps {
                grid-template-columns: 1fr;
            }

            .logo-container img {
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="logo-container">
            <!-- Aqu√≠ ir√° tu logo -->
            <h1>üíì PulsoCuba</h1>
        </div>
        <p>El latido que conecta</p>
        <p style="font-size: 1rem; margin-top: 0.5rem;">Remesas r√°pidas y seguras a Cuba desde M√©xico</p>
    </header>

    <!-- NAVEGACI√ìN -->
    <nav>
        <ul>
            <li><a href="#intro">Inicio</a></li>
            <li><a href="#calculadora">Calculadora</a></li>
            <li><a href="#proceso">Proceso</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="#contacto">Contacto</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- INTRO -->
        <section id="intro">
            <h2>Env√≠a dinero a Cuba de forma r√°pida y segura</h2>
            <p>Con PulsoCuba, tu dinero llega en minutos. Ofrecemos las mejores tasas del mercado y un servicio confiable. ¬°Conecta con tus seres queridos hoy mismo!</p>

            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>R√°pido</h3>
                    <p>Tu remesa llega en minutos, no en d√≠as</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Seguro</h3>
                    <p>Transacciones protegidas y confiables</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Mejores tasas</h3>
                    <p>Las tasas m√°s competitivas del mercado</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üá®üá∫</div>
                    <h3>USD y CUP</h3>
                    <p>Enviamos en d√≥lares y pesos cubanos</p>
                </div>
            </div>

            <div class="cta-buttons">
                <a href="https://wa.me/5218140476782?text=Hola,%20quiero%20enviar%20dinero%20a%20Cuba" class="btn btn-whatsapp" target="_blank" onclick="if(typeof fbq !== 'undefined') fbq('track', 'Contact', {content_name: 'WhatsApp Click'});">
                    üí¨ Enviar por WhatsApp
                </a>
                <a href="#calculadora" class="btn btn-calculator">
                    üßÆ Calcular env√≠o
                </a>
            </div>
        </section>

        <!-- CALCULADORA -->
        <section id="calculadora">
            <div class="calculator-wrapper">
                <div class="calculator">
                    <h2>üí± Calculadora de Remesas</h2>
                    
                    <div class="input-group">
                        <label for="conversionType">Tipo de conversi√≥n:</label>
                        <select id="conversionType" onchange="updateLabel()">
                            <option value="mxn_to_cup">MXN üá≤üáΩ ‚Üí CUP üá®üá∫</option>
                            <option value="mxn_to_usd">MXN üá≤üáΩ ‚Üí USD üíµ</option>
                            <option value="cup_to_mxn">CUP üá®üá∫ ‚Üí MXN üá≤üáΩ</option>
                            <option value="usd_to_mxn">USD üíµ ‚Üí MXN üá≤üáΩ</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="amount" id="amountLabel">Cantidad en MXN:</label>
                        <input 
                            type="number" 
                            id="amount" 
                            placeholder="Ej: 1000" 
                            step="0.01"
                            oninput="calculateConversion()"
                        >
                    </div>

                    <div class="error" id="error"></div>
                    <div class="discount-info" id="discountInfo"></div>
                    <div id="result">Ingresa una cantidad</div>
                    <div class="rate-info" id="rateInfo">Tasas actualizadas</div>
                </div>
            </div>
        </section>

        <!-- PROCESO -->
        <section id="proceso">
            <h2>¬øC√≥mo enviar dinero?</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Cont√°ctanos</h3>
                    <p>Escr√≠benos por WhatsApp o ll√°manos</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Proporciona datos</h3>
                    <p>Datos del beneficiario en Cuba</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Realiza el pago</h3>
                    <p>Transferencia bancaria o dep√≥sito</p>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <h3>¬°Listo!</h3>
                    <p>El dinero llega en minutos</p>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq">
            <h2>Preguntas Frecuentes</h2>
            
            <div class="category-filters">
                <button class="category-filter active" data-category="todas" onclick="filterFAQ('todas')">Todas</button>
                <button class="category-filter" data-category="envio" onclick="filterFAQ('envio')">Env√≠os</button>
                <button class="category-filter" data-category="pago" onclick="filterFAQ('pago')">Pagos</button>
                <button class="category-filter" data-category="seguridad" onclick="filterFAQ('seguridad')">Seguridad</button>
            </div>

            <div class="faq-container">
                <div class="faq-item" data-category="envio">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øCu√°nto tarda en llegar el dinero?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>El dinero llega en minutos despu√©s de confirmar el pago. Nuestro servicio es r√°pido y confiable.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="envio">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øCu√°l es el monto m√≠nimo de env√≠o?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>El monto m√≠nimo var√≠a seg√∫n la moneda: 100 MXN para CUP y 50 USD para d√≥lares.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="envio">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øPuedo enviar en USD y CUP?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>S√≠, enviamos tanto en d√≥lares estadounidenses (USD) como en pesos cubanos (CUP). T√∫ eliges la moneda.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="pago">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øQu√© formas de pago aceptan?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Aceptamos transferencias bancarias, dep√≥sitos en efectivo y SPEI. Contact√°nos para m√°s opciones.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="pago">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øTienen descuentos por volumen?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>S√≠, ofrecemos mejores tasas para env√≠os mayores. Consulta nuestra calculadora para ver los descuentos autom√°ticos.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="seguridad">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øEs seguro enviar dinero con PulsoCuba?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Completamente seguro. Todas nuestras transacciones est√°n protegidas y garantizamos la entrega del dinero.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="seguridad">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øQu√© pasa si hay un problema con el env√≠o?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>Nuestro equipo est√° disponible para resolver cualquier inconveniente. Te damos seguimiento completo hasta que el dinero llegue a su destino.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="envio">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <span>¬øNecesito crear una cuenta?</span>
                        <span class="faq-icon">‚ñº</span>
                    </button>
                    <div class="faq-answer">
                        <p>No es necesario. Solo cont√°ctanos por WhatsApp y te guiamos en todo el proceso.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACTO -->
        <section id="contacto">
            <h2>üìû Cont√°ctanos</h2>
            <p>Estamos listos para ayudarte a enviar dinero a Cuba</p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <strong>üì± WhatsApp</strong>
                    <p>+52 1 81 4047 6782</p>
                </div>
                <div class="contact-item">
                    <strong>üìß Email</strong>
                    <p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3646435a45595543545776515b575f5a1855595b">[email&#160;protected]</a></p>
                </div>
                <div class="contact-item">
                    <strong>üïê Horario</strong>
                    <p>Lunes a Domingo: 8:00 AM - 10:00 PM (Hora de M√©xico)</p>
                </div>
            </div>

            <a href="https://wa.me/5218140476782?text=Hola,%20quiero%20informaci√≥n%20sobre%20remesas" class="btn btn-whatsapp" target="_blank" style="margin-top: 2rem;" onclick="if(typeof fbq !== 'undefined') fbq('track', 'Contact', {content_name: 'WhatsApp Footer Click'});">
                üí¨ Chatear por WhatsApp
            </a>
        </section>
    </div>

    <!-- FOOTER -->
    <footer>
        <p><strong>PulsoCuba</strong> - El latido que conecta</p>
        <p>Remesas r√°pidas y seguras a Cuba desde M√©xico</p>
        <p>&copy; 2024 PulsoCuba. Todos los derechos reservados.</p>
    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // ========================================
        // CONFIGURACI√ìN DE TASAS Y M√çNIMOS
        // ========================================
        
        // Valores por defecto (se actualizar√°n desde Google Sheets)
        let RATES = {
            MXN_TO_CUP: 23.45,
            MXN_TO_CUP_DISCOUNT: 24.05,
            MXN_TO_USD: 0.05,
            CUP_TO_MXN: 0.043,
            USD_TO_MXN: 19.85,
            USD_TO_MXN_DISCOUNT: 19.20
        };

        let MINIMUMS = {
            MXN_TO_CUP: 500,
            MXN_TO_USD: 500,
            CUP_TO_MXN: 500,
            USD_TO_MXN: 500
        };

        let EXCHANGE_RATES = {
            CUP_DISCOUNT_FROM: 3500,
            USD_DISCOUNT_FROM: 500
        };

        // ========================================
        // CARGAR TASAS DESDE GOOGLE SHEETS
        // ========================================
        
        async function loadRatesFromGoogleSheets() {
            try {
                const SHEET_ID = '1sDKFXvPq3vO_yHTQGbjrcQ76FFN59PiMJtwZ-ydaadM';
                const RANGE = 'Hoja 1!A13:B19';
                const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&range=${RANGE}`;
                
                const response = await fetch(url);
                const text = await response.text();
                const json = JSON.parse(text.substr(47).slice(0, -2));
                
                if (json.table && json.table.rows) {
                    json.table.rows.forEach(row => {
                        if (row.c && row.c[0] && row.c[1]) {
                            const key = row.c[0].v;
                            const value = parseFloat(row.c[1].v);
                            
                            switch(key) {
                                case 'PULSOCUBA_CUP_NORMAL':
                                    RATES.MXN_TO_CUP = value;
                                    RATES.CUP_TO_MXN = 1 / value;
                                    break;
                                case 'PULSOCUBA_CUP_DISCOUNT':
                                    RATES.MXN_TO_CUP_DISCOUNT = value;
                                    break;
                                case 'PULSOCUBA_USD_NORMAL':
                                    RATES.USD_TO_MXN = value;
                                    RATES.MXN_TO_USD = 1 / value;
                                    break;
                                case 'PULSOCUBA_USD_DISCOUNT':
                                    RATES.USD_TO_MXN_DISCOUNT = value;
                                    break;
                                case 'PULSOCUBA_CUP_DISCOUNT_FROM':
                                    EXCHANGE_RATES.CUP_DISCOUNT_FROM = value;
                                    break;
                                case 'PULSOCUBA_USD_DISCOUNT_FROM':
                                    EXCHANGE_RATES.USD_DISCOUNT_FROM = value;
                                    break;
                                case 'PULSOCUBA_MINIMUM_SEND':
                                    MINIMUMS.MXN_TO_CUP = value;
                                    MINIMUMS.MXN_TO_USD = value;
                                    MINIMUMS.CUP_TO_MXN = value;
                                    MINIMUMS.USD_TO_MXN = value;
                                    break;
                            }
                        }
                    });
                    
                    console.log('‚úÖ Tasas actualizadas desde Google Sheets:', RATES);
                    updateRateInfo();
                }
            } catch (error) {
                console.error('‚ùå Error al cargar tasas:', error);
                console.log('Usando tasas por defecto');
            }
        }
        
        function updateRateInfo() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('es-MX', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('rateInfo').textContent = `Tasas actualizadas a las ${timeStr}`;
        }

        // ========================================
        // FUNCIONES DE LA CALCULADORA
        // ========================================
        
        function updateLabel() {
            const type = document.getElementById('conversionType').value;
            const label = document.getElementById('amountLabel');
            const amountInput = document.getElementById('amount');
            
            const labels = {
                'mxn_to_cup': 'Cantidad en MXN:',
                'mxn_to_usd': 'Cantidad en MXN:',
                'cup_to_mxn': 'Cantidad en CUP:',
                'usd_to_mxn': 'Cantidad en USD:'
            };
            
            label.textContent = labels[type];
            amountInput.value = '';
            document.getElementById('result').textContent = 'Ingresa una cantidad';
            document.getElementById('error').style.display = 'none';
            document.getElementById('discountInfo').style.display = 'none';
        }

        function calculateConversion() {
            const type = document.getElementById('conversionType').value;
            const amount = parseFloat(document.getElementById('amount').value);
            const resultDiv = document.getElementById('result');
            const errorDiv = document.getElementById('error');
            const discountInfoDiv = document.getElementById('discountInfo');

            errorDiv.style.display = 'none';
            discountInfoDiv.style.display = 'none';

            if (isNaN(amount) || amount <= 0) {
                resultDiv.textContent = 'Ingresa una cantidad v√°lida';
                return;
            }

            let convertedAmount, resultText, hasDiscount = false, discountText = '';

            switch(type) {
                case 'mxn_to_cup':
                    if (amount < MINIMUMS.MXN_TO_CUP) {
                        errorDiv.textContent = `El monto m√≠nimo de env√≠o es de ${MINIMUMS.MXN_TO_CUP} MXN`;
                        errorDiv.style.display = 'block';
                        resultDiv.textContent = 'Monto insuficiente';
                        return;
                    }
                    if (amount >= EXCHANGE_RATES.CUP_DISCOUNT_FROM) {
                        convertedAmount = amount * RATES.MXN_TO_CUP_DISCOUNT;
                        hasDiscount = true;
                        const normalAmount = amount * RATES.MXN_TO_CUP;
                        const savings = convertedAmount - normalAmount;
                        discountText = `üéâ ¬°Descuento aplicado! Recibes ${savings.toFixed(2)} CUP adicionales üéä`;
                    } else {
                        convertedAmount = amount * RATES.MXN_TO_CUP;
                    }
                    resultText = `${amount.toFixed(2)} MXN = ${convertedAmount.toFixed(2)} CUP`;
                    break;

                case 'mxn_to_usd':
                    if (amount < MINIMUMS.MXN_TO_USD) {
                        errorDiv.textContent = `El monto m√≠nimo de env√≠o es de ${MINIMUMS.MXN_TO_USD} MXN (aprox 50 USD)`;
                        errorDiv.style.display = 'block';
                        resultDiv.textContent = 'Monto insuficiente';
                        return;
                    }
                    convertedAmount = amount * RATES.MXN_TO_USD;
                    resultText = `${amount.toFixed(2)} MXN = ${convertedAmount.toFixed(2)} USD`;
                    break;

                case 'cup_to_mxn':
                    convertedAmount = amount * RATES.CUP_TO_MXN;
                    if (convertedAmount < MINIMUMS.CUP_TO_MXN) {
                        errorDiv.textContent = `El monto convertido debe ser al menos ${MINIMUMS.CUP_TO_MXN} MXN`;
                        errorDiv.style.display = 'block';
                        resultDiv.textContent = 'Monto insuficiente';
                        return;
                    }
                    resultText = `${amount.toFixed(2)} CUP = ${convertedAmount.toFixed(2)} MXN`;
                    break;

                case 'usd_to_mxn':
                    if (amount >= EXCHANGE_RATES.USD_DISCOUNT_FROM) {
                        convertedAmount = amount * RATES.USD_TO_MXN_DISCOUNT;
                        hasDiscount = true;
                        const normalAmount = amount * RATES.USD_TO_MXN;
                        const savings = normalAmount - convertedAmount;
                        discountText = `üéâ ¬°Descuento aplicado! Pagas ${savings.toFixed(2)} MXN menos üéä`;
                    } else {
                        convertedAmount = amount * RATES.USD_TO_MXN;
                    }
                    
                    if (convertedAmount < MINIMUMS.USD_TO_MXN) {
                        errorDiv.textContent = `El monto m√≠nimo es de 50 USD`;
                        errorDiv.style.display = 'block';
                        resultDiv.textContent = 'Monto insuficiente';
                        return;
                    }
                    resultText = `${amount.toFixed(2)} USD = ${convertedAmount.toFixed(2)} MXN`;
                    break;
            }

            resultDiv.textContent = resultText;
            
            // Enviar evento a Facebook Pixel
            if (typeof fbq !== 'undefined') {
                fbq('track', 'Lead', {
                    content_name: 'Cotizaci√≥n de remesa',
                    content_category: type,
                    value: amount,
                    currency: type.includes('mxn') ? 'MXN' : 'USD'
                });
            }
            
            if (hasDiscount) {
                discountInfoDiv.textContent = discountText;
                discountInfoDiv.style.display = 'block';
                
                // Evento especial para descuentos
                if (typeof fbq !== 'undefined') {
                    fbq('track', 'AddToCart', {
                        content_name: 'Cliente con descuento',
                        content_category: type,
                        value: amount
                    });
                }
            }
        }

        // ========================================
        // FAQ INTERACTIVIDAD
        // ========================================
        
        function toggleFAQ(button) {
            const faqItem = button.parentElement;
            const isActive = faqItem.classList.contains('active');
            
            // Cerrar todas las preguntas
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Abrir la pregunta clickeada si no estaba abierta
            if (!isActive) {
                faqItem.classList.add('active');
            }
        }

        function filterFAQ(category) {
            // Actualizar botones activos
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filtrar preguntas
            document.querySelectorAll('.faq-item').forEach(item => {
                if (category === 'todas' || item.dataset.category === category) {
                    item.style.display = 'block';
                } else {
                                                   item.style.display = "none";
                }
            });
        }

        // Inicializar
        document.addEventListener("DOMContentLoaded", () => {
            updateLabel();
            loadRatesFromGoogleSheets();
            // Actualizar tasas cada 5 minutos
            setInterval(loadRatesFromGoogleSheets, 5 * 60 * 1000);
        });
    </script>
</body>
</html>
